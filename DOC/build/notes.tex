\documentclass[10pt,a4paper,english]{article}
\usepackage{babel}
\usepackage{ae}
\usepackage{aeguill}
\usepackage{shortvrb}
\usepackage[latin1]{inputenc}
\usepackage{tabularx}
\usepackage{longtable}
\setlength{\extrarowheight}{2pt}
\usepackage{amsmath}
\usepackage{graphicx}
\usepackage{color}
\usepackage{multirow}
\usepackage{ifthen}
\usepackage[DIV12]{typearea}
% generated by Docutils <http://docutils.sourceforge.net/>
\newlength{\admonitionwidth}
\setlength{\admonitionwidth}{0.9\textwidth}
\newlength{\docinfowidth}
\setlength{\docinfowidth}{0.9\textwidth}
\newlength{\locallinewidth}
\newcommand{\optionlistlabel}[1]{\bf #1 \hfill}
\newenvironment{optionlist}[1]
{\begin{list}{}
  {\setlength{\labelwidth}{#1}
   \setlength{\rightmargin}{1cm}
   \setlength{\leftmargin}{\rightmargin}
   \addtolength{\leftmargin}{\labelwidth}
   \addtolength{\leftmargin}{\labelsep}
   \renewcommand{\makelabel}{\optionlistlabel}}
}{\end{list}}
\newlength{\lineblockindentation}
\setlength{\lineblockindentation}{2.5em}
\newenvironment{lineblock}[1]
{\begin{list}{}
  {\setlength{\partopsep}{\parskip}
   \addtolength{\partopsep}{\baselineskip}
   \topsep0pt\itemsep0.15\baselineskip\parsep0pt
   \leftmargin#1}
 \raggedright}
{\end{list}}
% begin: floats for footnotes tweaking.
\setlength{\floatsep}{0.5em}
\setlength{\textfloatsep}{\fill}
\addtolength{\textfloatsep}{3em}
\renewcommand{\textfraction}{0.5}
\renewcommand{\topfraction}{0.5}
\renewcommand{\bottomfraction}{0.5}
\setcounter{totalnumber}{50}
\setcounter{topnumber}{50}
\setcounter{bottomnumber}{50}
% end floats for footnotes
% some commands, that could be overwritten in the style file.
\newcommand{\rubric}[1]{\subsection*{~\hfill {\it #1} \hfill ~}}
\newcommand{\titlereference}[1]{\textsl{#1}}
% end of "some commands"
\ifthenelse{\isundefined{\hypersetup}}{
\usepackage[colorlinks=true,linkcolor=blue,urlcolor=blue]{hyperref}
}{}
\title{Notes sur l'integration des differentes version de SEM 2D et 3D}
\author{}
\date{}
\hypersetup{
pdftitle={Notes sur l'integration des differentes version de SEM 2D et 3D}
}
\raggedbottom
\begin{document}
\maketitle

\setlength{\locallinewidth}{\linewidth}
% -*- mode:rst; coding:utf-8 -*- 
\begin{itemize}
\item {} 
Pour le couplage avec MKA3D on introduit Tdomain{\%}communicateur qui vaut MPI{\_}COMMWORLD
dans le cas non couple.

\end{itemize}

\texttt{SEM2D/Capteur.F90}

\texttt{SEM3D/Capteur.F90}
\begin{itemize}
\item {} 
Les sources ont la meme structure, et quasi identique a l'exception du traitement
de la troisieme dimension pour SEM3D

\end{itemize}

\texttt{calcul{\_}xi{\_}eta{\_}psi} : calcul des coordonnees locales d'une maille duplique
pour les capteur, le couplage, la source ?
\begin{itemize}
\item {} 
bugge pour les capteurs.

\end{itemize}

\texttt{SourcePosition.f90} : calcul des coordonnees locales duplique (dans SEM3D Mka),
dans ReceiverPosition sur RegSEM.U

\texttt{Courant.f90} : dans Mka on calcule le pas de temps en fonction du pb

\texttt{allocate{\_}domain.f90} : on traite amortissement et anisotropie -{\textgreater} pas besoin des Acoef.
ils sont encore alloues pour PML oubli ?
\begin{itemize}
\item {} 
ForcesMka : allouee meme sans couplage ??

\end{itemize}

invert{\_}3d.f90 : librarie ?


%___________________________________________________________________________

\hypertarget{regsem-u-sem3d-mka}{}
\pdfbookmark[0]{RegSEM.U -{}- SEM3D-mka}{regsem-u-sem3d-mka}
\section*{RegSEM.U -{}- SEM3D-mka}
\label{regsem-u-sem3d-mka}

Dans les deux versions on ajoute
\begin{quote}{\ttfamily \raggedright \noindent
!!~Local~Variables:~\\
!!~mode:~f90~\\
!!~show-trailing-whitespace:~t~\\
!!~End:
}\end{quote}

et un entete
\begin{quote}{\ttfamily \raggedright \noindent
!>~\\
!!~{\textbackslash}file~get{\_}Mass{\_}Elem2Face.f90~\\
!!~{\textbackslash}brief~\\
!!~{\textbackslash}author~\\
!!~{\textbackslash}version~1.0~\\
!!~{\textbackslash}date~\\
!!~\\
!<
}\end{quote}

Files \texttt{RegSEM.U/CODE/Newmark.f90} and \texttt{mka3d/mka3d-src/SEM3D/SRC/Newmark.f90} differ :
\begin{itemize}
\item {} 
communicateur, couplages, arguments de CALL xxx et save{\_}trace

\end{itemize}

Files \texttt{RegSEM.U/CODE/SourcePosition.f90} and \texttt{mka3d/mka3d-src/SEM3D/SRC/SourcePosition.f90} differ :
\begin{itemize}
\item {} 
output (mpi) et calcul xi,eta,zeta de la source

\end{itemize}

Files \texttt{RegSEM.U/CODE/VALEPO.f90} and \texttt{mka3d/mka3d-src/SEM3D/SRC/VALEPO.f90} differ

Files \texttt{RegSEM.U/CODE/WELEGL.f90} and \texttt{mka3d/mka3d-src/SEM3D/SRC/WELEGL.f90} differ

Files \texttt{RegSEM.U/CODE/ZELEGL.f90} and \texttt{mka3d/mka3d-src/SEM3D/SRC/ZELEGL.f90} differ :
\begin{itemize}
\item {} 
passage en module f90

\end{itemize}

Files \texttt{RegSEM.U/CODE/allocate{\_}domain.f90} and \texttt{mka3d/mka3d-src/SEM3D/SRC/allocate{\_}domain.f90} differ :
\begin{itemize}
\item {} 
anisotropie, couplage

\end{itemize}

Files \texttt{RegSEM.U/CODE/compute{\_}GLL.f90} and \texttt{mka3d/mka3d-src/SEM3D/SRC/compute{\_}GLL.f90} differ :
\begin{itemize}
\item {} 
use module f90

\end{itemize}

Files \texttt{RegSEM.U/CODE/courant.f90} and \texttt{mka3d/mka3d-src/SEM3D/SRC/courant.f90} differ :
\begin{itemize}
\item {} 
calcul du dt en fonction de courant

\end{itemize}

Files \texttt{RegSEM.U/CODE/deallocate{\_}domain.f90} and \texttt{mka3d/mka3d-src/SEM3D/SRC/deallocate{\_}domain.f90} differ :
\begin{itemize}
\item {} 
cf allocate

\end{itemize}

Files \texttt{RegSEM.U/CODE/define{\_}arrays.f90} and \texttt{mka3d/mka3d-src/SEM3D/SRC/define{\_}arrays.f90} differ :
\begin{itemize}
\item {} 
aniso, communicateur, et depuis peu MPML

\end{itemize}

Files \texttt{RegSEM.U/CODE/define{\_}neu{\_}properties.f90} and \texttt{mka3d/mka3d-src/SEM3D/SRC/define{\_}neu{\_}properties.f90} differ :
\begin{itemize}
\item {} 
bidouilles pour ngll = 6, 8

\end{itemize}

Files \texttt{RegSEM.U/CODE/define{\_}planew{\_}properties.f90} and \texttt{mka3d/mka3d-src/SEM3D/SRC/define{\_}planew{\_}properties.f90} differ :
\begin{itemize}
\item {} 
DKappa, semfiles

\end{itemize}

Files \texttt{RegSEM.U/CODE/drive{\_}sem.f90} and \texttt{mka3d/mka3d-src/SEM3D/SRC/drive{\_}sem.f90} differ :
\begin{itemize}
\item {} 
couplage, force{\_}int

\end{itemize}

Files \texttt{RegSEM.U/CODE/global{\_}numbering.f90} and \texttt{mka3d/mka3d-src/SEM3D/SRC/global{\_}numbering.f90} differ :
\begin{itemize}
\item {} 
un gros bout a ete supprime dans RegSEM.U

\end{itemize}

Files \texttt{RegSEM.U/CODE/read{\_}input.f90} and \texttt{mka3d/mka3d-src/SEM3D/SRC/read{\_}input.f90} differ :
\begin{itemize}
\item {} 
aniso, print mpi, et petites diff du format de fichier

\end{itemize}

Files \texttt{RegSEM.U/CODE/read{\_}restart.f90} and \texttt{mka3d/mka3d-src/SEM3D/SRC/read{\_}restart.f90} differ

Files \texttt{RegSEM.U/CODE/save{\_}checkpoint.f90} and \texttt{mka3d/mka3d-src/SEM3D/SRC/save{\_}checkpoint.f90} differ
\begin{itemize}
\item {} 
aniso, format hdf5, semfiles

\end{itemize}

Files \texttt{RegSEM.U/CODE/savefield.f90} and \texttt{mka3d/mka3d-src/SEM3D/SRC/savefield.f90} differ :
\begin{itemize}
\item {} 
sorties specifiques mka3d ?

\end{itemize}

Files \texttt{RegSEM.U/CODE/savetrace.f90} and \texttt{mka3d/mka3d-src/SEM3D/SRC/savetrace.f90} differ :
\begin{itemize}
\item {} 
il y a un dt2/nt2 dans version RegSem.U, semfiles

\end{itemize}

Files \texttt{RegSEM.U/CODE/shape8.f90} and \texttt{mka3d/mka3d-src/SEM3D/SRC/shape8.f90} differ :
\begin{itemize}
\item {} 
creation fichier PostG, connect,

\item {} 
deallocate Iglobnum{\_}Face, Iglobnum{\_}Edge, verification orientation faces

\end{itemize}

Diff recursif
\begin{quote}{\ttfamily \raggedright \noindent
diff~-wqs~RegSEM.U/CODE/~{\textasciitilde}/work/mka3d/mka3d-src/SEM3D/SRC/~\\
Common~subdirectories:~RegSEM.U/CODE/BLAS~and~mka3d/mka3d-src/SEM3D/SRC/BLAS~\\
Only~in~mka3d/mka3d-src/SEM3D/SRC/:~Capteur.f90~\\
Files~RegSEM.U/CODE/Comm{\_}Forces{\_}Edge.f90~and~mka3d/mka3d-src/SEM3D/SRC/Comm{\_}Forces{\_}Edge.f90~are~identical~\\
Files~RegSEM.U/CODE/Comm{\_}Forces{\_}Face.f90~and~mka3d/mka3d-src/SEM3D/SRC/Comm{\_}Forces{\_}Face.f90~are~identical~\\
Files~RegSEM.U/CODE/Comm{\_}Forces{\_}Vertex.f90~and~mka3d/mka3d-src/SEM3D/SRC/Comm{\_}Forces{\_}Vertex.f90~are~identical~\\
Files~RegSEM.U/CODE/Comm{\_}Mass{\_}Edge.f90~and~mka3d/mka3d-src/SEM3D/SRC/Comm{\_}Mass{\_}Edge.f90~are~identical~\\
Files~RegSEM.U/CODE/Comm{\_}Mass{\_}Face.f90~and~mka3d/mka3d-src/SEM3D/SRC/Comm{\_}Mass{\_}Face.f90~are~identical~\\
Files~RegSEM.U/CODE/Comm{\_}Mass{\_}Vertex.f90~and~mka3d/mka3d-src/SEM3D/SRC/Comm{\_}Mass{\_}Vertex.f90~are~identical~\\
Files~RegSEM.U/CODE/DMLEGL.f90~and~mka3d/mka3d-src/SEM3D/SRC/DMLEGL.f90~are~identical~\\
Only~in~RegSEM.U/CODE/:~Makefile~\\
Common~subdirectories:~RegSEM.U/CODE/Modules~and~mka3d/mka3d-src/SEM3D/SRC/Modules~\\
Files~RegSEM.U/CODE/Newmark.f90~and~mka3d/mka3d-src/SEM3D/SRC/Newmark.f90~differ~\\
Files~RegSEM.U/CODE/PML{\_}def.f90~and~mka3d/mka3d-src/SEM3D/SRC/PML{\_}def.f90~are~identical~\\
Only~in~mka3d/mka3d-src/SEM3D/SRC/:~README{\_}SEM3D~\\
Only~in~RegSEM.U/CODE/:~ReceiverExactPosition.f90~\\
Only~in~mka3d/mka3d-src/SEM3D/SRC/:~ReceiverPosition.f90~\\
Files~RegSEM.U/CODE/SourcePosition.f90~and~mka3d/mka3d-src/SEM3D/SRC/SourcePosition.f90~differ~\\
Files~RegSEM.U/CODE/VALEPO.f90~and~mka3d/mka3d-src/SEM3D/SRC/VALEPO.f90~differ~\\
Files~RegSEM.U/CODE/WELEGL.f90~and~mka3d/mka3d-src/SEM3D/SRC/WELEGL.f90~differ~\\
Files~RegSEM.U/CODE/ZELEGL.f90~and~mka3d/mka3d-src/SEM3D/SRC/ZELEGL.f90~differ~\\
Files~RegSEM.U/CODE/allocate{\_}domain.f90~and~mka3d/mka3d-src/SEM3D/SRC/allocate{\_}domain.f90~differ~\\
Only~in~mka3d/mka3d-src/SEM3D/SRC/:~attenuation{\_}aniso{\_}update.f90~\\
Only~in~mka3d/mka3d-src/SEM3D/SRC/:~attenuation{\_}update.f90~\\
Only~in~mka3d/mka3d-src/SEM3D/SRC/:~calcul{\_}forces.f90~\\
Only~in~mka3d/mka3d-src/SEM3D/SRC/:~calcul{\_}forces{\_}aniso.f90~\\
Only~in~mka3d/mka3d-src/SEM3D/SRC/:~calcul{\_}forces{\_}aniso{\_}att.f90~\\
Only~in~mka3d/mka3d-src/SEM3D/SRC/:~calcul{\_}forces{\_}att.f90~\\
Files~RegSEM.U/CODE/compute{\_}GLL.f90~and~mka3d/mka3d-src/SEM3D/SRC/compute{\_}GLL.f90~differ~\\
Only~in~mka3d/mka3d-src/SEM3D/SRC/:~compute{\_}constant{\_}Q.c~\\
Only~in~mka3d/mka3d-src/SEM3D/SRC/:~compute{\_}iso{\_}Q.c~\\
Only~in~mka3d/mka3d-src/SEM3D/SRC/:~constant{\_}Q2{\_}sub.c~\\
Only~in~mka3d/mka3d-src/SEM3D/SRC/:~convertirUnv.f90~\\
Files~RegSEM.U/CODE/courant.f90~and~mka3d/mka3d-src/SEM3D/SRC/courant.f90~differ~\\
Files~RegSEM.U/CODE/deallocate{\_}domain.f90~and~mka3d/mka3d-src/SEM3D/SRC/deallocate{\_}domain.f90~differ~\\
Files~RegSEM.U/CODE/define{\_}arrays.f90~and~mka3d/mka3d-src/SEM3D/SRC/define{\_}arrays.f90~differ~\\
Files~RegSEM.U/CODE/define{\_}neu{\_}properties.f90~and~mka3d/mka3d-src/SEM3D/SRC/define{\_}neu{\_}properties.f90~differ~\\
Files~RegSEM.U/CODE/define{\_}planew{\_}properties.f90~and~mka3d/mka3d-src/SEM3D/SRC/define{\_}planew{\_}properties.f90~differ~\\
Only~in~mka3d/mka3d-src/SEM3D/SRC/:~double{\_}couple.f90~\\
Files~RegSEM.U/CODE/drive{\_}sem.f90~and~mka3d/mka3d-src/SEM3D/SRC/drive{\_}sem.f90~differ~\\
Only~in~mka3d/mka3d-src/SEM3D/SRC/:~forces{\_}int.f90~\\
Files~RegSEM.U/CODE/getPMLpred{\_}e2el.f90~and~mka3d/mka3d-src/SEM3D/SRC/getPMLpred{\_}e2el.f90~are~identical~\\
Files~RegSEM.U/CODE/getPMLpred{\_}f2el.f90~and~mka3d/mka3d-src/SEM3D/SRC/getPMLpred{\_}f2el.f90~are~identical~\\
Files~RegSEM.U/CODE/getPMLpred{\_}v2el.f90~and~mka3d/mka3d-src/SEM3D/SRC/getPMLpred{\_}v2el.f90~are~identical~\\
Files~RegSEM.U/CODE/get{\_}Displ{\_}Edge2Elem.f90~and~mka3d/mka3d-src/SEM3D/SRC/get{\_}Displ{\_}Edge2Elem.f90~are~identical~\\
Files~RegSEM.U/CODE/get{\_}Displ{\_}Face2Elem.f90~and~mka3d/mka3d-src/SEM3D/SRC/get{\_}Displ{\_}Face2Elem.f90~are~identical~\\
Files~RegSEM.U/CODE/get{\_}Displ{\_}Vertex2Elem.f90~and~mka3d/mka3d-src/SEM3D/SRC/get{\_}Displ{\_}Vertex2Elem.f90~are~identical~\\
Files~RegSEM.U/CODE/get{\_}Forces{\_}Elem2Edge.f90~and~mka3d/mka3d-src/SEM3D/SRC/get{\_}Forces{\_}Elem2Edge.f90~are~identical~\\
Files~RegSEM.U/CODE/get{\_}Forces{\_}Elem2Face.f90~and~mka3d/mka3d-src/SEM3D/SRC/get{\_}Forces{\_}Elem2Face.f90~are~identical~\\
Files~RegSEM.U/CODE/get{\_}Forces{\_}Elem2Vertex.f90~and~mka3d/mka3d-src/SEM3D/SRC/get{\_}Forces{\_}Elem2Vertex.f90~are~identical~\\
Files~RegSEM.U/CODE/get{\_}Mass{\_}Elem2Edge.f90~and~mka3d/mka3d-src/SEM3D/SRC/get{\_}Mass{\_}Elem2Edge.f90~are~identical~\\
Files~RegSEM.U/CODE/get{\_}Mass{\_}Elem2Face.f90~and~mka3d/mka3d-src/SEM3D/SRC/get{\_}Mass{\_}Elem2Face.f90~are~identical~\\
Files~RegSEM.U/CODE/get{\_}Mass{\_}Elem2Vertex.f90~and~mka3d/mka3d-src/SEM3D/SRC/get{\_}Mass{\_}Elem2Vertex.f90~are~identical~\\
Files~RegSEM.U/CODE/global{\_}numbering.f90~and~mka3d/mka3d-src/SEM3D/SRC/global{\_}numbering.f90~differ~\\
Only~in~mka3d/mka3d-src/SEM3D/SRC/:~input.spec~\\
Files~RegSEM.U/CODE/invert2.f90~and~mka3d/mka3d-src/SEM3D/SRC/invert2.f90~are~identical~\\
Files~RegSEM.U/CODE/invert{\_}3d.f90~and~mka3d/mka3d-src/SEM3D/SRC/invert{\_}3d.f90~are~identical~\\
Only~in~mka3d/mka3d-src/SEM3D/SRC/:~iso{\_}Q2{\_}sub.c~\\
Only~in~mka3d/mka3d-src/SEM3D/SRC/:~nrutil.c~\\
Only~in~mka3d/mka3d-src/SEM3D/SRC/:~ondelette.f90~\\
Only~in~RegSEM.U/CODE/:~openfield.f90~\\
Only~in~mka3d/mka3d-src/SEM3D/SRC/:~pol{\_}force.f90~\\
Only~in~mka3d/mka3d-src/SEM3D/SRC/:~pol{\_}lagrange.f90~\\
Files~RegSEM.U/CODE/pow.f90~and~mka3d/mka3d-src/SEM3D/SRC/pow.f90~are~identical~\\
Files~RegSEM.U/CODE/read{\_}input.f90~and~mka3d/mka3d-src/SEM3D/SRC/read{\_}input.f90~differ~\\
Files~RegSEM.U/CODE/read{\_}restart.f90~and~mka3d/mka3d-src/SEM3D/SRC/read{\_}restart.f90~differ~\\
Files~RegSEM.U/CODE/save{\_}checkpoint.f90~and~mka3d/mka3d-src/SEM3D/SRC/save{\_}checkpoint.f90~differ~\\
Files~RegSEM.U/CODE/savefield.f90~and~mka3d/mka3d-src/SEM3D/SRC/savefield.f90~differ~\\
Only~in~mka3d/mka3d-src/SEM3D/SRC/:~savefield{\_}disp.f90~\\
Files~RegSEM.U/CODE/savetrace.f90~and~mka3d/mka3d-src/SEM3D/SRC/savetrace.f90~differ~\\
Only~in~mka3d/mka3d-src/SEM3D/SRC/:~set{\_}attenuation{\_}aniso{\_}param.f90~\\
Only~in~mka3d/mka3d-src/SEM3D/SRC/:~set{\_}attenuation{\_}param.f90~\\
Only~in~mka3d/mka3d-src/SEM3D/SRC/:~shape27.f90~\\
Files~RegSEM.U/CODE/shape8.f90~and~mka3d/mka3d-src/SEM3D/SRC/shape8.f90~differ
}\end{quote}

\end{document}
